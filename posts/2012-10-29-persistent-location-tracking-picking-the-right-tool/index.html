<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Persistent Location Tracking: Picking The Right Tool</title>
    <meta name="description" content="Evan Savage&#39;s personal blog about software, life, travel, and other sundry things.">
    <link href='http://fonts.googleapis.com/css?family=PT%20Serif:400,400italic,500,500italic' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/css/index.css">
    <link rel="stylesheet" href="/css/prism-base16-monokai.dark.css">
    <link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="Evan Savage">
    <link rel="alternate" href="/feed/feed.json" type="application/json" title="Evan Savage">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script>
      MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']]
        }
      };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  </head>
  <body>
    <header>
      <h1 class="home"><a href="/">Evan Savage</a></h1>

      <ul class="nav">
          <li class="nav-item"><a href="/">Home</a></li>
          <li class="nav-item"><a href="/posts/">Archive</a></li>
        <li class="nav-item"><a href="https://savageevan.com">About Me</a></li>
      </ul>
    </header>

    <main class="tmpl-post">
      <h1>Persistent Location Tracking: Picking The Right Tool</h1>

<p>In this post, I compare Google Latitude and InstaMapper, two popular services<br>
for persistent location tracking. I walk through installation and data<br>
extraction via API for each service, then provide some subjective first<br>
impressions as to which one better suits my location-tracking needs.</p>
<!-- more -->
<h2 id="evaluating-tools">Evaluating Tools <a class="direct-link" href="#evaluating-tools">#</a></h2>
<p>As the ecosystem of self-tracking tools <a href="http://quantifiedself.com/2011/03/the-state-of-quantified-self-a-year-of-growth/">grows exponentially</a>,<br>
choosing the right tool is becoming an increasingly daunting task.<br>
To add to the complexity of this decision, self-tracking tools are<br>
<em>highly personal.</em></p>
<blockquote>
How do I pick the best tool for me?
</blockquote>
<p>This question is far from monolithic:</p>
<ul>
<li>Do I want <strong>manual</strong> or <strong>automatic</strong> tracking?
<ul>
<li>How much <em>time and effort</em> am I willing to spend on self-tracking?</li>
<li>Is a hybrid <em>automatic plus manual annotation</em> approach workable?</li>
</ul>
</li>
<li>Do I want <strong>persistent</strong> tracking?
<ul>
<li><em>All day?</em> Or only at predetermined times?</li>
<li><em>Every day?</em> What if I'm on vacation?</li>
</ul>
</li>
<li>Do I want <strong>raw data access?</strong>
<ul>
<li>How do I want to access that data? Through <em>Excel CSV files?</em><br>
Via a <em>developer-friendly API?</em></li>
<li>What <em>granularity</em> do I want? Sub-second? Daily?</li>
<li>What <em>parameters</em> do I want? For location, is <code>(lat, long)</code> enough?<br>
Do I want <em>altitude</em> as well? GPS fix <em>accuracy?</em></li>
</ul>
</li>
</ul>
<p>Without a <em>searchable database of self-tracking tools</em>, these questions can be<br>
difficult to answer. The main <a href="http://quantifiedself.com/">Quantified Self website</a> includes a<br>
<a href="http://quantifiedself.com/guide/">Guide to Self-Tracking Tools</a>, but their implementation is subject to<br>
criticism:</p>
<blockquote cite="https://www.rwjf.org/content/dam/farm/reports/program_results_reports/2012/rwjf400733">
  <p>
In a report to RWJF, Project Director Alexandra C. Carmichael noted that the guide was more a catalog of tools than a useful manual for people wanting to choose and use these tools.
</p>
  <footer>&ndash; Robert Wood Johnson Foundation, <cite><a href="https://www.rwjf.org/content/dam/farm/reports/program_results_reports/2012/rwjf400733">A Digital Guide for Self-Tracking Goes Online</a></footer>
</blockquote>
<p>This is a point worth repeating. Simply listing tools is <em>not enough</em>; a<br>
database of tools <em>must answer these basic questions</em> to be useful. A quick<br>
search on the Guide for <a href="http://quantifiedself.com/guide/tag/location">location-related tools</a><br>
comes up short:</p>
<img src="https://lh6.googleusercontent.com/-1r1swg9oBxo/UJA_is6HMSI/AAAAAAAAAIQ/zoiBG4fRAPU/s640/qs-guide-location-apps.jpg" />
<p>Why is <a href="http://moodpanda.com/">MoodPanda</a> listed? I suppose it must location-tag mood entries,<br>
but <em>that isn't made explicit in the description.</em><br>
<a href="http://www.momentoapp.com/">Momento</a> makes a bit more sense, but it's primarily a journalling app.<br>
<a href="https://foursquare.com/">Foursquare</a> is definitely location-based, but anyone unfamiliar with<br>
it <em>must read its description closely</em> to realize that it relies on<br>
manual check-ins.</p>
<p>In lieu of a useful tool database, the only effective option is direct<br>
evaluation. By investigating two popular location tracking tools, I'll<br>
demonstrate how such an evaluation might be carried out.</p>
<h2 id="the-tools">The Tools <a class="direct-link" href="#the-tools">#</a></h2>
<h3 id="google-latitude">Google Latitude <a class="direct-link" href="#google-latitude">#</a></h3>
<p>Google Latitude bills itself primarily as a social location sharing service:</p>
<img src="https://lh5.googleusercontent.com/-ZGGebfguFEk/UJA_hShHXRI/AAAAAAAAAH4/kziP-01pI_g/s800/banner-glatitude.jpg" />
<p>Social capacities aside, the <a href="https://maps.google.com/locationhistory/b/0">Location History</a><br>
functionality can be used as a persistent location-tracking tool.</p>
<h3 id="instamapper">InstaMapper <a class="direct-link" href="#instamapper">#</a></h3>
<p>I first heard of InstaMapper from<br>
<a href="http://vimeo.com/8545134">Ted Power's talk on geo-tracking</a>. Unlike Google<br>
Latitude, InstaMapper focuses more on personal tracking:</p>
<img src="https://lh4.googleusercontent.com/-dOIGJWcJ7uc/UJA_h8QM2FI/AAAAAAAAAIA/0owDXIrD6Ro/s800/banner-instamapper.jpg" />
<h3 id="the-criteria">The Criteria <a class="direct-link" href="#the-criteria">#</a></h3>
<p>My ideal location tracking tool is:</p>
<ul>
<li><strong>Android-compatible:</strong> It should work with my <a href="www.razr.com/RAZR-M">RAZR M</a> running<br>
<a href="http://www.android.com/about/ice-cream-sandwich/">Android 4.0.4 (Ice Cream Sandwich)</a>.</li>
<li><strong>Battery-friendly:</strong> It should allow me to go at least a day <em>without<br>
recharging.</em></li>
<li><strong>Automatic:</strong> It should track my location <em>without requiring check-ins</em><br>
or other manual input.</li>
<li><strong>Persistent:</strong> It should track my location <em>constantly.</em></li>
<li><strong>Fine-grained:</strong> It should be capable of <em>per-minute resolution or better.</em></li>
<li><strong>Developer-friendly:</strong> It should <em>provide an API</em> for fetching location<br>
history, and the data offered through that API should be <em>as complete as<br>
possible.</em></li>
</ul>
<p>Both tools are <em>Android-compatible</em>, <em>automatic</em>, and <em>persistent</em> already,<br>
which narrows down the list of criteria to evaluate.</p>
<h2 id="installation">Installation <a class="direct-link" href="#installation">#</a></h2>
<h3 id="google-latitude-2">Google Latitude <a class="direct-link" href="#google-latitude-2">#</a></h3>
<p>Enabling automatic location tracking on Android requires <em>only a single<br>
setting change:</em></p>
<img src="https://lh4.googleusercontent.com/-lGwyff6IKAQ/UJA_jzsY3CI/AAAAAAAAAIw/qgFZr8kT1xE/s288/install-glatitude-step1.jpg" />
<img src="https://lh5.googleusercontent.com/-v-7rvy4kAk4/UJA_kbfLddI/AAAAAAAAAI4/MLzFAjPXgR8/s288/install-glatitude-step2.jpg" />
<img src="https://lh3.googleusercontent.com/-rooAhkMibWg/UJA_kjz8o1I/AAAAAAAAAJA/sCnrK_yNHbE/s288/install-glatitude-step3.jpg" />
<img src="https://lh5.googleusercontent.com/-8jz3N_5HkUA/UJA_k6mNTAI/AAAAAAAAAJI/qerZyoCzXbo/s288/install-glatitude-step4.jpg" />
<h3 id="instamapper-2">InstaMapper <a class="direct-link" href="#instamapper-2">#</a></h3>
<p>I followed the Android installation directions <a href="http://www.instamapper.com/android_howto.html">here</a>.<br>
After you <a href="https://www.instamapper.com/fe?page=register">register for an InstaMapper account</a>, you install<br>
InstaMapper's <a href="https://play.google.com/store/apps/details?id=com.instamapper.gpstracker&amp;hl=en">GPS Tracker app</a>:</p>
<img src="https://lh5.googleusercontent.com/-FJZ7CxlpWSE/UJA_lDw4OVI/AAAAAAAAAJQ/pCreIS9emn0/s288/install-instamapper-step1.jpg" />
<h3 id="comparison">Comparison <a class="direct-link" href="#comparison">#</a></h3>
<p>Both tools are easily installed, but <em>Google Latitude</em> wins on simplicity. This<br>
is unsurprising, as Google Latitude comes pre-installed.</p>
<h2 id="data-export">Data Export <a class="direct-link" href="#data-export">#</a></h2>
<h3 id="google-latitude-3">Google Latitude <a class="direct-link" href="#google-latitude-3">#</a></h3>
<p>To export data from the Location History dashboard, click on <em>Export KML</em><br>
under the calendar widget:</p>
<img src="https://lh3.googleusercontent.com/-N_E7GC01k3I/UJA_lY310cI/AAAAAAAAAJY/B6qCcqCAPm0/s800/export-glatitude.jpg" />
<h3 id="instamapper-3">InstaMapper <a class="direct-link" href="#instamapper-3">#</a></h3>
<p>Head to the <em>data page</em> for your device:</p>
<img src="https://lh4.googleusercontent.com/-WiPRLpRcC9Q/UJA_l7UA-cI/AAAAAAAAAJg/ienRb1xYY2o/s400/export-instamapper-step1.jpg" />
<img src="https://lh4.googleusercontent.com/-kvWTFuAZoJ8/UJA_mK_zsbI/AAAAAAAAAJk/aG-iJs2Sfp8/s400/export-instamapper-step2.jpg" />
<p>Here's where this process gets weird. To export your data, you first have to<br>
<em>define a track:</em></p>
<img src="https://lh3.googleusercontent.com/-0j8AdUIinoU/UJA_msnEnLI/AAAAAAAAAKM/LfOZOnEyOJA/s400/export-instamapper-step3.jpg" />
<img src="https://lh5.googleusercontent.com/-aiXmPGeKOxo/UJA_nRZr93I/AAAAAAAAAJ0/wWNddc34ZXo/s400/export-instamapper-step4.jpg" />
<img src="https://lh6.googleusercontent.com/-tgipa_V9TfU/UJA_ncU8LeI/AAAAAAAAAJ8/2HIvGJ_ycfY/s400/export-instamapper-step5.jpg" />
<p>Once the track is created, you can <em>visit the Track Manager</em> to<br>
export your track data in a variety of formats:</p>
<img src="https://lh6.googleusercontent.com/-OyteTDJcqYk/UJA_n7L2QvI/AAAAAAAAAKE/tvEkdMbB-Ik/s400/export-instamapper-step6.jpg" />
<img src="https://lh5.googleusercontent.com/-e52trEcnN0I/UJA_ob4XGgI/AAAAAAAAAKI/REcryQodFq0/s400/export-instamapper-step7.jpg" />
<h3 id="comparison-2">Comparison <a class="direct-link" href="#comparison-2">#</a></h3>
<p>This one goes to <em>Google Latitude</em>. Aside from the terrible UI flow,<br>
InstaMapper has some other problems:</p>
<ul>
<li>The <code>accuracy</code> field is missing, making it harder to <em>filter out noisy<br>
readings.</em></li>
<li>As stated in the <a href="http://www.instamapper.com/faq.html">InstaMapper FAQ</a>,<br>
data access is <em>limited to the<br>
previous 30 days or 100 000 locations.</em></li>
</ul>
<h2 id="api-fetching">API Fetching <a class="direct-link" href="#api-fetching">#</a></h2>
<h3 id="tailers-and-streams">Tailers and Streams <a class="direct-link" href="#tailers-and-streams">#</a></h3>
<p>Many real-time APIs provide <a href="http://en.wikipedia.org/wiki/Representational_state_transfer">REST</a> endpoints for fetching<br>
time-bounded chunks of data:</p>
<pre><code>https://www.googleapis.com/latitude/v1/location?key=INSERT-YOUR-KEY&amp;min-time=1111&amp;max-time=2222&amp;max-results=10
</code></pre>
<p>By keeping track of a <code>since</code> time to fetch after, we can easily turn this<br>
into a stream:</p>
<pre class="language-py"><code class="language-py"><span class="token keyword">def</span> <span class="token function">request</span><span class="token punctuation">(</span>since<span class="token punctuation">)</span><span class="token punctuation">:</span><br>  <span class="token comment"># TODO: actually fetch data</span><br>  <span class="token keyword">pass</span><br><br><span class="token keyword">def</span> <span class="token function">sleep</span><span class="token punctuation">(</span>since<span class="token punctuation">,</span> freq<span class="token punctuation">)</span><span class="token punctuation">:</span><br>  elapsed <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> since<br>  wait <span class="token operator">=</span> freq <span class="token operator">-</span> elapsed<br>  <span class="token keyword">if</span> wait <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span><br>    <span class="token keyword">return</span><br>  time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span>wait<span class="token punctuation">)</span><br><br><span class="token keyword">def</span> <span class="token function">poll</span><span class="token punctuation">(</span>freq<span class="token punctuation">)</span><span class="token punctuation">:</span><br>  since <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span><br>  <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span><br>    sleep<span class="token punctuation">(</span>since<span class="token punctuation">,</span> freq<span class="token punctuation">)</span><br>    locations <span class="token operator">=</span> request<span class="token punctuation">(</span>since<span class="token punctuation">)</span><br>    <span class="token keyword">if</span> <span class="token keyword">not</span> locations<span class="token punctuation">:</span><br>      <span class="token keyword">continue</span><br>    doSomething<span class="token punctuation">(</span>locations<span class="token punctuation">)</span><br>    since <span class="token operator">=</span> locations<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>timestamp</code></pre>
<p>This pattern is often referred to as a <em>tailer.</em> Why? Suppose we have a simple<br>
implementation of <code>doSomething()</code>:</p>
<pre class="language-py"><code class="language-py"><span class="token keyword">def</span> <span class="token function">doSomething</span><span class="token punctuation">(</span>locations<span class="token punctuation">)</span><span class="token punctuation">:</span><br>  <span class="token keyword">for</span> location <span class="token keyword">in</span> locations<span class="token punctuation">:</span><br>    <span class="token keyword">print</span> location</code></pre>
<p>This prints out locations as they are received, similar to UNIX <code>tail -F</code>. By<br>
adjusting <code>freq</code> I can make different real-time guarantees, although at some<br>
point the upstream API will start throttling my requests.</p>
<h3 id="google-latitude-4">Google Latitude <a class="direct-link" href="#google-latitude-4">#</a></h3>
<p>You can see a working tailer implementation <a href="https://github.com/candu/quantified-savagery-files/blob/master/Location/tail_glatitude.py">here</a>.</p>
<p>To access the <a href="https://developers.google.com/latitude/">Google Latitude API</a>, you first need to<br>
<a href="https://code.google.com/apis/console/b/0/">register an application</a>. This gives you the necessary<br>
parameters <code>YOUR_KEY</code>, <code>YOUR_SECRET</code> for stepping through the OAuth flow.</p>
<p>With the Python library <a href="http://code.google.com/p/google-api-python-client/wiki/OAuth2Client">oauthclient2</a>, retrieving OAuth credentials is<br>
relatively painless:</p>
<pre class="language-py"><code class="language-py"><span class="token keyword">from</span> oauth2client<span class="token punctuation">.</span>client <span class="token keyword">import</span> OAuth2WebServerFlow<br><span class="token keyword">from</span> oauth2client<span class="token punctuation">.</span><span class="token builtin">file</span> <span class="token keyword">import</span> Storage<br><span class="token keyword">from</span> oauth2client<span class="token punctuation">.</span>tools <span class="token keyword">import</span> run<br><br><span class="token keyword">def</span> <span class="token function">getCredentials</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> secret<span class="token punctuation">)</span><span class="token punctuation">:</span><br>  flow <span class="token operator">=</span> OAuth2WebServerFlow<span class="token punctuation">(</span><br>    client_id<span class="token operator">=</span>key<span class="token punctuation">,</span><br>    client_secret<span class="token operator">=</span>secret<span class="token punctuation">,</span><br>    scope<span class="token operator">=</span><span class="token string">'https://www.googleapis.com/auth/latitude.all.best'</span><span class="token punctuation">,</span><br>    redirect_uri<span class="token operator">=</span><span class="token string">'http://localhost:8080/oauth2callback'</span><br>  <span class="token punctuation">)</span><br>  storage <span class="token operator">=</span> Storage<span class="token punctuation">(</span><span class="token string">'.creds'</span><span class="token punctuation">)</span><br>  <span class="token keyword">return</span> run<span class="token punctuation">(</span>flow<span class="token punctuation">,</span> storage<span class="token punctuation">)</span></code></pre>
<p><code>oauth2client.tools.run()</code> invokes a browser window and starts an HTTP server<br>
to receive the OAuth callback. With the credentials, we can <em>make a signed API<br>
request:</em></p>
<pre class="language-py"><code class="language-py"><span class="token keyword">import</span> httplib2<br><span class="token keyword">import</span> urllib<br><span class="token keyword">import</span> json<br><br><span class="token keyword">def</span> <span class="token function">request</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> since<span class="token punctuation">)</span><span class="token punctuation">:</span><br>  http <span class="token operator">=</span> httplib2<span class="token punctuation">.</span>Http<span class="token punctuation">(</span><span class="token punctuation">)</span><br>  credentials <span class="token operator">=</span> getCredentials<span class="token punctuation">(</span>YOUR_KEY<span class="token punctuation">,</span> YOUR_SECRET<span class="token punctuation">)</span><br>  credentials<span class="token punctuation">.</span>authorize<span class="token punctuation">(</span>http<span class="token punctuation">)</span><br>  url <span class="token operator">=</span> <span class="token string">'https://www.googleapis.com/latitude/v1/location?%s'</span> <span class="token operator">%</span> urllib<span class="token punctuation">.</span>urlencode<span class="token punctuation">(</span><span class="token punctuation">{</span><br>    <span class="token string">'max-results'</span><span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span><br>    <span class="token string">'min-time'</span><span class="token punctuation">:</span> since<span class="token punctuation">,</span><br>    <span class="token string">'max-time'</span><span class="token punctuation">:</span> since <span class="token operator">+</span> <span class="token number">10</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">15</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token string">'granularity'</span><span class="token punctuation">:</span> <span class="token string">'best'</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><br>  resp<span class="token punctuation">,</span> content <span class="token operator">=</span> http<span class="token punctuation">.</span>request<span class="token punctuation">(</span>url<span class="token punctuation">)</span><br>  data <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>content<span class="token punctuation">)</span><br>  <span class="token keyword">if</span> data<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">)</span> <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span><br>    <span class="token keyword">return</span> <span class="token boolean">None</span><br>  <span class="token keyword">return</span> data<span class="token punctuation">[</span><span class="token string">'data'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'items'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>There are some minor details:</p>
<ul>
<li>The API <em>uses milliseconds for its timestamps</em>, so my <code>since</code> values take<br>
this into account.</li>
<li>Without <code>max-time</code>, the API <em>returns the most recent</em> <code>max-results</code> locations.<br>
I supply a 150-second window.</li>
<li>If there are no locations within the given time range, the API <strong>does not</strong><br>
populate <code>data['data']['items']</code>. I use <code>get()</code> to work around the resulting<br>
<code>KeyError</code>.</li>
<li>In the event of an error, the API populates <code>data['error']</code>. I use <code>None</code> as<br>
a <em>sentinel value</em> to indicate that an error has occurred.</li>
</ul>
<h3 id="instamapper-4">InstaMapper <a class="direct-link" href="#instamapper-4">#</a></h3>
<p>You can see a working tailer implementation <a href="https://github.com/candu/quantified-savagery-files/blob/master/Location/tail_instamapper.py">here</a>.</p>
<p>InstaMapper doesn't use OAuth; instead, it uses a unique key<br>
<code>YOUR_KEY</code> that is passed as a GET parameter to the REST API:</p>
<pre class="language-py"><code class="language-py"><span class="token keyword">import</span> httplib<br><span class="token keyword">import</span> json<br><span class="token keyword">import</span> urllib<br><br><span class="token keyword">def</span> <span class="token function">request</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> since<span class="token punctuation">)</span><span class="token punctuation">:</span><br>  params <span class="token operator">=</span> <span class="token punctuation">{</span><br>    <span class="token string">'action'</span><span class="token punctuation">:</span> <span class="token string">'getPositions'</span><span class="token punctuation">,</span><br>    <span class="token string">'key'</span><span class="token punctuation">:</span> YOUR_KEY<span class="token punctuation">,</span><br>    <span class="token string">'num'</span><span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span><br>    <span class="token string">'from_ts'</span><span class="token punctuation">:</span> since<span class="token punctuation">,</span><br>    <span class="token string">'format'</span><span class="token punctuation">:</span> <span class="token string">'json'</span><span class="token punctuation">,</span><br>  <span class="token punctuation">}</span><br>  url <span class="token operator">=</span> <span class="token string">'http://www.instamapper.com/api?{1}'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>APIHOST<span class="token punctuation">,</span> urllib<span class="token punctuation">.</span>urlencode<span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">)</span><br>  conn <span class="token operator">=</span> httplib<span class="token punctuation">.</span>HTTPConnection<span class="token punctuation">(</span><span class="token string">'www.instamapper.com'</span><span class="token punctuation">)</span><br>  conn<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> url<span class="token punctuation">)</span><br>  resp <span class="token operator">=</span> conn<span class="token punctuation">.</span>getresponse<span class="token punctuation">(</span><span class="token punctuation">)</span><br>  <span class="token keyword">if</span> resp<span class="token punctuation">.</span>status <span class="token operator">!=</span> <span class="token number">200</span><span class="token punctuation">:</span><br>    <span class="token keyword">raise</span> Exception<span class="token punctuation">(</span><span class="token string">'HTTP {0} {1}'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>resp<span class="token punctuation">.</span>status<span class="token punctuation">,</span> resp<span class="token punctuation">.</span>reason<span class="token punctuation">)</span><span class="token punctuation">)</span><br>  data <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>resp<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>  conn<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span><br>  <span class="token keyword">return</span> data<span class="token punctuation">[</span><span class="token string">'positions'</span><span class="token punctuation">]</span></code></pre>
<h3 id="comparison-3">Comparison <a class="direct-link" href="#comparison-3">#</a></h3>
<p>Although InstaMapper's API is arguably simpler to use, I'll award this one to<br>
<em>Google Latitude:</em></p>
<ul>
<li><strong>Security:</strong> InstaMapper uses unencrypted HTTP GET requests, so anyone<br>
running a <a href="http://www.wireshark.org/">packet sniffer</a> on my network has <em>complete access to my<br>
location data.</em> Google Latitude uses HTTPS and OAuth. No contest.</li>
<li><strong>Support:</strong> I can <em>leverage the community of Google API users</em> to help resolve<br>
any issues I encounter.</li>
<li><strong>Data:</strong> again, InstaMapper is <em>missing location accuracy.</em></li>
<li><strong>Request Volume:</strong> InstaMapper permits one request every 10 seconds. Google<br>
Latitude allows 1 000 000 requests per day, or <em>one request every 0.0864<br>
seconds.</em></li>
</ul>
<h2 id="battery-usage">Battery Usage <a class="direct-link" href="#battery-usage">#</a></h2>
<p>To find out how battery-friendly the two Android apps are, I <em>check the<br>
Battery Manager:</em></p>
<img src="https://lh6.googleusercontent.com/-B246p7a_vbg/UJA_i7iGdyI/AAAAAAAAAIU/Q6U6hLdc2hg/s288/battery-overview.jpg" />
<img src="https://lh5.googleusercontent.com/-X6ClOm7t-8s/UJA_jVwjgrI/AAAAAAAAAIk/V1lOfjmpO2o/s288/battery-maps.jpg" />
<img src="https://lh5.googleusercontent.com/-r7N176E75z0/UJA_jdJfs_I/AAAAAAAAAIg/XQnPc0Q2lgY/s288/battery-gps-tracker.jpg" />
<h3 id="comparison-4">Comparison <a class="direct-link" href="#comparison-4">#</a></h3>
<p><em>Google Latitude</em> wins this one as well. InstaMapper keeps the GPS radio<br>
running almost constantly, whereas Google Latitude manages to sip radio<br>
access. I'm guessing that it uses WiFi, cell towers, and other non-GPS sources<br>
where possible.</p>
<p>Without these power consumption improvements, InstaMapper's GPS Tracker <em>uses<br>
an order of magnitude more energy</em> than Google Latitude. Ouch.</p>
<h2 id="first-impressions">First Impressions <a class="direct-link" href="#first-impressions">#</a></h2>
<p>After a day of persistent location tracking with both Google Latitude and<br>
InstaMapper, <em>Google Latitude wins hands-down.</em> It's <em>easy to install</em>, it<br>
provides <em>simple and secure data access</em> via <code>oauth2client</code>, and it <em>preserves<br>
battery life nicely.</em></p>


<hr>
<ul><li>Next: <a href="/posts/2012-11-02-persistent-location-tracking-looking-for-a-few-good-data-points/">Persistent Location Tracking: Looking For A Few Good Data Points</a></li><li>Previous: <a href="/posts/2012-10-22-dont-hate-cross-correlate/">Don&#39;t Hate, Cross-Correlate</a></li>
</ul>

    </main>

    <footer></footer>

    <!-- Current page: /posts/2012-10-29-persistent-location-tracking-picking-the-right-tool/ -->
  </body>
</html>
